{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "Cosmos Dashboard APIs",
    "description": "API for dashboard applications to manage content and settings in the Cosmos platform",
    "version" : "2025-04-18T14:26:01Z"
  },
  "servers" : [ {
    "url" : "{baseUrl}",
    "variables" : {
      "baseUrl": {
        "default": "https://api.eu-west-1.aworld.cloud/dashboard/v1"
      }
    }
  } ],
  "paths" : {
    "/activities" : {
      "get" : {
        "summary": "List activities",
        "description": "Retrieves a paginated list of activities available in the workspace",
        "parameters": [
          {
            "name": "nextToken",
            "in": "query",
            "description": "Pagination cursor for fetching the next set of results",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of activities to return per page",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of activities retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Activity"
                      }
                    },
                    "nextToken": {
                      "type": "string",
                      "description": "Pagination cursor for the next set of results"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/activities/{activityId}" : {
      "get" : {
        "summary": "Get activity by ID",
        "description": "Retrieves a specific activity by its unique identifier",
        "parameters" : [ {
          "name" : "activityId",
          "in" : "path",
          "description": "Unique identifier of the activity to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "Activity retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "404": {
            "description": "Activity not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "put" : {
        "summary": "Create activity",
        "description": "Creates a new activity with the specified ID. It is recommended to use a human-readable ID.",
        "parameters" : [ {
          "name" : "activityId",
          "in" : "path",
          "description": "Unique identifier for the new activity",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateActivityRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Activity created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "409": {
            "description": "Activity ID already exists"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "post" : {
        "summary": "Update activity",
        "description": "Updates an existing activity identified by its ID",
        "parameters" : [ {
          "name" : "activityId",
          "in" : "path",
          "description": "Unique identifier of the activity to update",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateActivityRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Activity updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "404": {
            "description": "Activity not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/activities/{activityId}/publish" : {
      "post" : {
        "summary": "Publish an activity",
        "description": "Publishes an activity, making it available for use in the application",
        "parameters" : [ {
          "name" : "activityId",
          "in" : "path",
          "description": "Unique identifier of the activity to publish",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "Activity published successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Activity not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/virtualCurrencies" : {
      "get" : {
        "summary": "List virtual currencies",
        "description": "Retrieves a paginated list of virtual currencies available in the workspace",
        "parameters": [
          {
            "name": "nextToken",
            "in": "query",
            "description": "Pagination cursor for fetching the next set of results.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of virtual currencies to return per page.",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of virtual currencies retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/VirtualCurrency"
                      },
                      "description": "A list of virtual currencies."
                    },
                    "nextToken": {
                      "type": "string",
                      "description": "Pagination cursor for fetching the next set of results. Null if no more items are available."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/virtualCurrencies/{virtualCurrencyId}" : {
      "get" : {
        "summary": "Get virtual currency by ID",
        "description": "Retrieves a specific virtual currency by its unique identifier",
        "parameters" : [ {
          "name" : "virtualCurrencyId",
          "in" : "path",
          "description": "Unique identifier of the virtual currency to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string",
            "minLength": 2,
            "maxLength": 30,
            "pattern": "^\\S+$"
          }
        } ],
        "responses": {
          "200": {
            "description": "Virtual currency retrieved successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualCurrency"
                }
              }
            }
          },
          "404": {
            "description": "Virtual currency not found."
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "put" : {
        "summary": "Create virtual currency",
        "description": "Creates a new virtual currency with the specified ID. It is recommended to use a human-readable ID.",
        "parameters" : [ {
          "name" : "virtualCurrencyId",
          "in" : "path",
          "description": "Unique identifier for the new virtual currency",
          "required" : true,
          "schema" : {
            "type" : "string",
            "minLength": 2,
            "maxLength": 30,
            "pattern": "^\\S+$"
          }
        } ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVirtualCurrencyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Virtual currency created successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualCurrency"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input. Please check the request body for errors."
          },
          "409": {
            "description": "A virtual currency with the specified ID already exists."
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "post" : {
        "summary": "Update virtual currency",
        "description": "Updates an existing virtual currency identified by its ID",
        "parameters" : [ {
          "name" : "virtualCurrencyId",
          "in" : "path",
          "description": "Unique identifier of the virtual currency to update",
          "required" : true,
          "schema" : {
            "type" : "string",
            "minLength": 2,
            "maxLength": 30,
            "pattern": "^\\S+$"
          }
        } ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateVirtualCurrencyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Virtual currency updated successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualCurrency"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input. Please check the request body for errors."
          },
          "404": {
            "description": "Virtual currency not found."
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/virtualCurrencies/{virtualCurrencyId}/publish" : {
      "post" : {
        "summary": "Publish a virtual currency",
        "description": "Publishes a virtual currency, making it available for use in the application",
        "parameters" : [ {
          "name" : "virtualCurrencyId",
          "in" : "path",
          "description": "Unique identifier of the virtual currency to publish",
          "required" : true,
          "schema" : {
            "type" : "string",
            "minLength": 2,
            "maxLength": 30,
            "pattern": "^\\S+$"
          }
        } ],
        "responses": {
          "200": {
            "description": "Virtual currency published successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VirtualCurrency"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request."
          },
          "404": {
            "description": "Virtual currency not found."
          },
          "401": {
            "description": "Unauthorized"
          },
          "409": {
            "description": "The virtual currency may already be published or in a state that prevents publishing."
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/rewardRules" : {
      "get" : {
        "summary": "List reward rules",
        "description": "Retrieves a paginated list of reward rules available in the workspace",
        "parameters": [
          {
            "name": "nextToken",
            "in": "query",
            "description": "Pagination token for fetching the next set of results",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of reward rules to return per page",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of reward rules retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/RewardRule"
                      }
                    },
                    "nextToken": {
                      "type": "string",
                      "description": "Pagination token for the next set of results"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "post" : {
        "summary": "Create reward rule",
        "description": "Creates a new reward rule with a system-generated ID",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateRewardRuleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reward rule created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardRule"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/rewardRules/{rewardRuleId}" : {
      "get" : {
        "summary": "Get reward rule by ID",
        "description": "Retrieves a specific reward rule by its unique identifier",
        "parameters" : [ {
          "name" : "rewardRuleId",
          "in" : "path",
          "description": "Unique identifier of the reward rule to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "Reward rule retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardRule"
                }
              }
            }
          },
          "404": {
            "description": "Reward rule not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "post" : {
        "summary": "Update reward rule",
        "description": "Updates an existing reward rule identified by its ID",
        "parameters" : [ {
          "name" : "rewardRuleId",
          "in" : "path",
          "description": "Unique identifier of the reward rule to update",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRewardRuleRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reward rule updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardRule"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "404": {
            "description": "Reward rule not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/rewardRules/{rewardRuleId}/publish" : {
      "post" : {
        "summary": "Publish a reward rule",
        "description": "Publishes a reward rule, making it available for use in the application",
        "parameters" : [ {
          "name" : "rewardRuleId",
          "in" : "path",
          "description": "Unique identifier of the reward rule to publish",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "Reward rule published successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RewardRule"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Reward rule not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/tags" : {
      "get" : {
        "summary": "List tags",
        "description": "Retrieves a paginated list of tags available in the workspace",
        "parameters": [
          {
            "name": "nextToken",
            "in": "query",
            "description": "Pagination token for fetching the next set of results",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of tags to return per page",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of tags retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Tag"
                      }
                    },
                    "nextToken": {
                      "type": "string",
                      "description": "Pagination token for the next set of results"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "post" : {
        "summary": "Create tag",
        "description": "Creates a new tag with a system-generated ID",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTagRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/tags/{tagId}" : {
      "get" : {
        "summary": "Get tag by ID",
        "description": "Retrieves a specific tag by its unique identifier",
        "parameters" : [ {
          "name" : "tagId",
          "in" : "path",
          "description": "Unique identifier of the tag to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "Tag retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          },
          "404": {
            "description": "Tag not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "post" : {
        "summary": "Update tag",
        "description": "Updates an existing tag identified by its ID",
        "parameters" : [ {
          "name" : "tagId",
          "in" : "path",
          "description": "Unique identifier of the tag to update",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTagRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tag updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "404": {
            "description": "Tag not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/tags/{tagId}/publish" : {
      "post" : {
        "summary": "Publish a tag",
        "description": "Publishes a tag, making it available for use in the application",
        "parameters" : [ {
          "name" : "tagId",
          "in" : "path",
          "description": "Unique identifier of the tag to publish",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "Tag published successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Tag"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request"
          },
          "404": {
            "description": "Tag not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/users" : {
      "get" : {
        "summary": "List users",
        "description": "Retrieves a paginated list of users available in the workspace",
        "parameters": [
          {
            "name": "nextToken",
            "in": "query",
            "description": "Pagination token for fetching the next set of results",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of users to return per page",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of users retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    },
                    "nextToken": {
                      "type": "string",
                      "description": "Pagination token for the next set of results"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      },
      "post" : {
        "summary": "Create user",
        "description": "Creates a new user in the system with generated credentials",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateUserRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "409": {
            "description": "User with the specified email already exists"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/users/{userId}" : {
      "get" : {
        "summary": "Get user by ID",
        "description": "Retrieves a specific user by their unique identifier",
        "parameters" : [ {
          "name" : "userId",
          "in" : "path",
          "description": "Unique identifier of the user to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "User retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/users/byExternalId/{externalId}/" : {
      "get" : {
        "summary": "Get user by external ID",
        "description": "Retrieves a specific user by their unique external ID identifier",
        "parameters" : [ {
          "name" : "externalId",
          "in" : "path",
          "description": "Unique external identifier of the user to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses": {
          "200": {
            "description": "User retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "401": {
            "description": "Unauthorized"
          }
        },
        "security" : [ {
          "dashboard-v1-rest-api-authorizer" : [ ]
        } ]
      }
    },
    "/virtualTransactions": {
      "post": {
        "summary": "Create new virtual transactions (Admin)",
        "description": "Allows an administrator to create transactions between users, or between a user and the system. Multiple transaction requests can be batched. Operations are atomic (all or nothing). It is strongly recommended to include an 'X-Idempotency-Key' header for safe retries.",
        "parameters": [
          {
            "name": "X-Idempotency-Key",
            "in": "header",
            "description": "Optional (but recommended) idempotency key to prevent duplicate processing of the same request. Any string can be used (e.g., a UUID or a nanoid).",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateVirtualTransactionsRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Virtual transactions created successfully. Returns all generated ledger entries.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateVirtualTransactionsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid input, validation error (e.g., invalid user IDs, inconsistent source/destination), or other processing error."
          },
          "401": {
            "description": "Unauthorized."
          },
          "404": {
            "description": "Not Found - Referenced entity (e.g., userId, virtualCurrencyId) not found."
          },
          "409": {
            "description": "Conflict - Potential duplicate request based on idempotency key and request content. Another cause could be that at least one of the operations would conflict with a user's counterpart boundary (minAllowedBalance or maxAllowedBalance)"
          }
        },
        "security": [
          {
            "dashboard-v1-rest-api-authorizer": []
          }
        ]
      }
    }
  },
  "components" : {
    "securitySchemes": {
      "oauth2": {
        "type": "oauth2",
        "description": "OAuth2 Client Credentials Flow",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "https://auth.eu-west-1.aworld.cloud/oauth2/token",
            "scopes": {}
          }
        },
        "x-postman-variables": [
          {
            "key": "clientId",
            "value": "{{clientId}}"
          },
          {
            "key": "clientSecret",
            "value": "{{clientSecret}}"
          }
        ]
      },
      "dashboard-v1-rest-api-authorizer": {
        "type": "apiKey",
        "name": "Authorization",
        "in": "header",
        "x-amazon-apigateway-authtype": "custom",
        "description": "API Gateway custom authorizer for validating dashboard user authentication"
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "description": "User entity representing a person who can access the system",
        "required": ["userId", "principalId", "lang", "timezone", "accountId", "workspaceId"],
        "properties": {
          "userId": {
            "type": "string",
            "description": "Unique identifier for the user"
          },
          "principalId": {
            "type": "string",
            "description": "Identifier used for authentication"
          },
          "externalId": {
            "type": "string",
            "description": "Optional external system identifier for the user"
          },
          "lang": {
            "type": "string",
            "description": "User's preferred language code",
            "default": "en"
          },
          "timezone": {
            "type": "string",
            "description": "User's timezone",
            "default": "UTC"
          },
          "accountId": {
            "type": "string",
            "description": "The account ID that this user belongs to"
          },
          "workspaceId": {
            "type": "string",
            "description": "The workspace ID that this user belongs to"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the user was created"
          },
          "updatedAt": {
            "type": "string", 
            "format": "date-time",
            "description": "Timestamp when the user was last updated"
          }
        }
      },
      "CreateUserRequest": {
        "type": "object",
        "description": "Data required to create a new user",
        "required": ["email"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "User's email address, used for login"
          },
          "password": {
            "type": "string",
            "description": "Password for the user (if not provided, a temporary password will be generated)",
            "format": "password"
          },
          "lang": {
            "type": "string",
            "description": "User's preferred language code",
            "default": "en"
          },
          "timezone": {
            "type": "string",
            "description": "User's timezone",
            "default": "UTC"
          },
          "externalId": {
            "type": "string",
            "description": "Optional external system identifier for the user"
          }
        }
      },
      "Tag": {
        "type": "object",
        "description": "Tag entity used for categorizing and filtering content",
        "required": ["tagId", "namespace", "variant", "origin", "defaultLang", "langs", "createdAt", "updatedAt"],
        "properties": {
          "tagId": {
            "type": "string",
            "description": "Unique identifier for the tag"
          },
          "namespace": {
            "type": "string",
            "description": "Namespace that groups related tags together"
          },
          "variant": {
            "type": "string",
            "description": "Variant identifier within the namespace"
          },
          "origin": {
            "type": "string",
            "enum": ["CATALOG", "CUSTOM"],
            "description": "Whether the tag comes from a central catalog or is custom-created"
          },
          "tagCatalogId": {
            "type": "string",
            "description": "ID reference to the original tag in the catalog if applicable"
          },
          "syncWithCatalog": {
            "type": "boolean",
            "description": "Whether the tag should be synced with catalog updates"
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code for the tag content"
          },
          "langs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of language codes available for this tag"
          },
          "accountId": {
            "type": "string",
            "description": "The account ID that owns this tag"
          },
          "workspaceId": {
            "type": "string",
            "description": "The workspace ID that contains this tag"
          },
          "sourceRegion": {
            "type": "string",
            "description": "AWS region where the tag was created"
          },
          "stage": {
            "type": "string",
            "enum": ["DRAFT", "PUBLISHED"],
            "description": "Current publication stage of the tag"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the tag was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the tag was last updated"
          }
        }
      },
      "CreateTagRequest": {
        "type": "object",
        "description": "Data required to create a new tag",
        "required": ["namespace", "variant", "defaultLang", "translations"],
        "properties": {
          "namespace": {
            "type": "string",
            "description": "Namespace that groups related tags together"
          },
          "variant": {
            "type": "string",
            "description": "Variant identifier within the namespace"
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code for the tag content"
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TagTranslation"
            },
            "description": "List of translations for the tag content",
            "minItems": 1,
            "maxItems": 10
          }
        }
      },
      "UpdateTagRequest": {
        "type": "object",
        "description": "Data required to update an existing tag",
        "required": ["namespace", "variant", "defaultLang", "translations"],
        "properties": {
          "namespace": {
            "type": "string",
            "description": "Updated namespace that groups related tags together"
          },
          "variant": {
            "type": "string",
            "description": "Updated variant identifier within the namespace"
          },
          "defaultLang": {
            "type": "string",
            "description": "Updated default language code for the tag content"
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TagTranslation"
            },
            "description": "Updated list of translations for the tag content",
            "minItems": 1,
            "maxItems": 10
          }
        }
      },
      "TagTranslation": {
        "type": "object",
        "description": "Translation for tag content in a specific language",
        "required": ["lang", "label"],
        "properties": {
          "lang": {
            "type": "string",
            "description": "Language code for this translation"
          },
          "label": {
            "type": "string",
            "description": "Translated label for the tag"
          },
          "description": {
            "type": "string",
            "description": "Translated description for the tag"
          }
        }
      },
      "JsonLogicExpression": {
        "description": "JSON Logic expression used for defining conditions and calculations",
        "oneOf": [
          {
            "type": "object",
            "description": "Object representation of a JSON Logic rule"
          },
          {
            "type": "number",
            "description": "Numeric literal value"
          },
          {
            "type": "boolean",
            "description": "Boolean literal value"
          }
        ]
      },
      "Reward": {
        "type": "object",
        "description": "Definition of a reward associated with a reward rule",
        "required": ["virtualCurrencyId", "expression", "redemptionMode"],
        "properties": {
          "virtualCurrencyId": {
            "type": "string",
            "description": "Identifier of the virtual currency to award."
          },
          "expression": {
            "$ref": "#/components/schemas/JsonLogicExpression",
            "description": "JSON Logic expression that calculates the amount of virtual currency to award."
          },
          "redemptionMode": {
            "type": "string",
            "enum": ["AUTO", "MANUAL"],
            "description": "The redemption mode for the transaction generated when this reward is granted. 'AUTO' means the transaction completes immediately. 'MANUAL' means the transaction will be pending and may require a separate redeem action by the user."
          }
        }
      },
      "RewardRule": {
        "type": "object",
        "description": "Reward rule entity defining conditions for awarding rewards",
        "required": ["rewardRuleId", "name", "ruleType", "matchEntity", "matchCondition", "applicationMode", "origin", "defaultLang", "langs", "rewards", "createdAt", "updatedAt"],
        "properties": {
          "rewardRuleId": {
            "type": "string",
            "description": "Unique identifier for the reward rule"
          },
          "name": {
            "type": "string",
            "description": "Name of the reward rule"
          },
          "ruleType": {
            "type": "string",
            "enum": ["INSTANCE", "ENTITY", "TAG"],
            "description": "Type of rule determining its scope and application"
          },
          "matchEntity": {
            "type": "string",
            "enum": ["Activity", "Quiz", "Tag"],
            "description": "Entity type this rule applies to"
          },
          "matchEntityId": {
            "type": "string",
            "description": "Specific entity ID this rule applies to (if applicable)"
          },
          "matchCondition": {
            "$ref": "#/components/schemas/JsonLogicExpression",
            "description": "JSON Logic expression that determines whether the rule applies"
          },
          "applicationMode": {
            "type": "string",
            "enum": ["ALWAYS", "FALLBACK", "DISABLED"],
            "description": "Mode determining when the rule should be applied"
          },
          "origin": {
            "type": "string",
            "enum": ["CATALOG", "CUSTOM"],
            "description": "Whether the reward rule comes from a central catalog or is custom-created"
          },
          "rewardRuleCatalogId": {
            "type": "string",
            "description": "ID reference to the original reward rule in the catalog if applicable"
          },
          "syncWithCatalog": {
            "type": "boolean",
            "description": "Whether the reward rule should be synced with catalog updates"
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code for the reward rule content"
          },
          "langs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of language codes available for this reward rule"
          },
          "rewards": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Reward"
            },
            "description": "List of rewards to be awarded when the rule conditions are met",
            "minItems": 1,
            "maxItems": 10
          },
          "accountId": {
            "type": "string",
            "description": "The account ID that owns this reward rule"
          },
          "workspaceId": {
            "type": "string",
            "description": "The workspace ID that contains this reward rule"
          },
          "sourceRegion": {
            "type": "string",
            "description": "AWS region where the reward rule was created"
          },
          "stage": {
            "type": "string",
            "enum": ["DRAFT", "PUBLISHED"],
            "description": "Current publication stage of the reward rule"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the reward rule was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the reward rule was last updated"
          }
        }
      },
      "CreateRewardRuleRequest": {
        "type": "object",
        "description": "Data required to create a new reward rule",
        "required": ["name", "ruleType", "matchEntity", "matchCondition", "applicationMode", "defaultLang", "translations", "rewards"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the reward rule"
          },
          "ruleType": {
            "type": "string",
            "enum": ["INSTANCE", "ENTITY", "TAG"],
            "description": "Type of rule determining its scope and application"
          },
          "matchEntity": {
            "type": "string",
            "enum": ["Activity", "Quiz", "Tag"],
            "description": "Entity type this rule applies to"
          },
          "matchEntityId": {
            "type": "string",
            "description": "Specific entity ID this rule applies to (if applicable)"
          },
          "matchCondition": {
            "$ref": "#/components/schemas/JsonLogicExpression",
            "description": "JSON Logic expression that determines whether the rule applies"
          },
          "applicationMode": {
            "type": "string",
            "enum": ["ALWAYS", "FALLBACK", "DISABLED"],
            "description": "Mode determining when the rule should be applied"
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code for the reward rule content"
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RewardRuleTranslation"
            },
            "description": "List of translations for the reward rule content",
            "minItems": 1,
            "maxItems": 10
          },
          "rewards": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Reward"
            },
            "description": "List of rewards to be awarded when the rule conditions are met",
            "minItems": 1,
            "maxItems": 10
          }
        }
      },
      "UpdateRewardRuleRequest": {
        "type": "object",
        "description": "Data required to update an existing reward rule",
        "required": ["name", "ruleType", "matchEntity", "matchCondition", "applicationMode", "defaultLang", "translations", "rewards"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name of the reward rule"
          },
          "ruleType": {
            "type": "string",
            "enum": ["INSTANCE", "ENTITY", "TAG"],
            "description": "Updated type of rule determining its scope and application"
          },
          "matchEntity": {
            "type": "string",
            "enum": ["Activity", "Quiz", "Tag"],
            "description": "Updated entity type this rule applies to"
          },
          "matchEntityId": {
            "type": "string",
            "description": "Updated specific entity ID this rule applies to (if applicable)"
          },
          "matchCondition": {
            "$ref": "#/components/schemas/JsonLogicExpression",
            "description": "Updated JSON Logic expression that determines whether the rule applies"
          },
          "applicationMode": {
            "type": "string",
            "enum": ["ALWAYS", "FALLBACK", "DISABLED"],
            "description": "Updated mode determining when the rule should be applied"
          },
          "defaultLang": {
            "type": "string",
            "description": "Updated default language code for the reward rule content"
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RewardRuleTranslation"
            },
            "description": "Updated list of translations for the reward rule content",
            "minItems": 1,
            "maxItems": 10
          },
          "rewards": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Reward"
            },
            "description": "Updated list of rewards to be awarded when the rule conditions are met",
            "minItems": 1,
            "maxItems": 10
          }
        }
      },
      "RewardRuleTranslation": {
        "type": "object",
        "description": "Translation for reward rule content in a specific language",
        "required": ["lang"],
        "properties": {
          "lang": {
            "type": "string",
            "description": "Language code for this translation"
          },
          "description": {
            "type": "string",
            "description": "Translated description for the reward rule"
          }
        }
      },
      "VirtualCurrency": {
        "type": "object",
        "description": "Virtual currency entity representing a digital asset or point system that users can earn and use within the platform.",
        "required": ["virtualCurrencyId", "name", "origin", "defaultLang", "langs", "createdAt", "updatedAt"],
        "properties": {
          "virtualCurrencyId": {
            "type": "string",
            "description": "Unique identifier for the virtual currency. Must be a non-empty string without spaces, 2-30 characters long.",
            "minLength": 2,
            "maxLength": 30,
            "pattern": "^\\S+$"
          },
          "name": {
            "type": "string",
            "description": "Name of the virtual currency."
          },
          "origin": {
            "type": "string",
            "enum": ["CATALOG", "CUSTOM"],
            "description": "Indicates if the virtual currency originates from a predefined catalog or is custom-created for the workspace."
          },
          "virtualCurrencyCatalogId": {
            "type": "string",
            "description": "If origin is 'CATALOG', this is the ID reference to the original virtual currency in the catalog."
          },
          "syncWithCatalog": {
            "type": "boolean",
            "description": "If true and origin is 'CATALOG', this virtual currency will be kept in sync with updates from the catalog."
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code (e.g., 'en', 'it') for the virtual currency's translatable content like label and description."
          },
          "langs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "A list of language codes for which translations of this virtual currency are available."
          },
          "minAllowedBalance": {
            "type": "number",
            "description": "Optional minimum balance allowed for this virtual currency for the user. Transactions might be blocked if they would result in the balance falling below this value."
          },
          "maxAllowedBalance": {
            "type": "number",
            "description": "Optional maximum balance allowed for this virtual currency for the user. Transactions might be blocked if they would result in the balance exceeding this value."
          },
          "accountId": {
            "type": "string",
            "description": "The ID of the account that owns this virtual currency."
          },
          "workspaceId": {
            "type": "string",
            "description": "The ID of the workspace to which this virtual currency belongs."
          },
          "sourceRegion": {
            "type": "string",
            "description": "The AWS region where this virtual currency record was created."
          },
          "stage": {
            "type": "string",
            "enum": ["DRAFT", "PUBLISHED"],
            "description": "The current publication stage of the virtual currency. 'DRAFT' means it's not yet active, 'PUBLISHED' means it's available for use."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp indicating when the virtual currency was created."
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp indicating when the virtual currency was last updated."
          }
        }
      },
      "CreateVirtualCurrencyRequest": {
        "type": "object",
        "description": "Data required to create a new virtual currency.",
        "required": ["name", "defaultLang", "translations"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the virtual currency. This is for internal identification and management."
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code for the virtual currency's translatable content (e.g., label, description)."
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualCurrencyTranslation"
            },
            "description": "A list of translations for the virtual currency's content. At least one translation (for the defaultLang) must be provided.",
            "minItems": 1,
            "maxItems": 10
          }
        }
      },
      "UpdateVirtualCurrencyRequest": {
        "type": "object",
        "description": "Data required to update an existing virtual currency.",
        "required": ["name", "defaultLang", "translations"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name of the virtual currency."
          },
          "defaultLang": {
            "type": "string",
            "description": "Updated default language code for the virtual currency's content."
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualCurrencyTranslation"
            },
            "description": "Updated list of translations for the virtual currency's content. Ensures all previously supported languages are still covered or explicitly removed.",
            "minItems": 1,
            "maxItems": 10
          }
        }
      },
      "VirtualCurrencyTranslation": {
        "type": "object",
        "description": "Provides the translatable content (label and description) for a virtual currency in a specific language.",
        "required": ["lang", "label"],
        "properties": {
          "lang": {
            "type": "string",
            "description": "The language code (e.g., 'en', 'it') for this translation."
          },
          "label": {
            "type": "string",
            "description": "The translated display name or label for the virtual currency (e.g., 'Gold Coins', 'Punti Stella')."
          },
          "description": {
            "type": "string",
            "description": "The translated description providing more details about the virtual currency."
          }
        }
      },
      "Activity": {
        "type": "object",
        "description": "Activity entity representing a task or action that users can complete",
        "required": ["activityId", "name", "origin", "defaultLang", "langs", "createdAt", "updatedAt"],
        "properties": {
          "activityId": {
            "type": "string",
            "description": "Unique identifier for the activity"
          },
          "name": {
            "type": "string",
            "description": "Name of the activity"
          },
          "origin": {
            "type": "string",
            "enum": ["CATALOG", "CUSTOM"],
            "description": "Whether the activity comes from a central catalog or is custom-created"
          },
          "activityCatalogId": {
            "type": "string",
            "description": "ID reference to the original activity in the catalog if applicable"
          },
          "syncWithCatalog": {
            "type": "boolean",
            "description": "Whether the activity should be synced with catalog updates"
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code for the activity content"
          },
          "langs": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of language codes available for this activity"
          },
          "accountId": {
            "type": "string",
            "description": "The account ID that owns this activity"
          },
          "workspaceId": {
            "type": "string",
            "description": "The workspace ID that contains this activity"
          },
          "sourceRegion": {
            "type": "string",
            "description": "AWS region where the activity was created"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the activity was created"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the activity was last updated"
          }
        }
      },
      "CreateActivityRequest": {
        "type": "object",
        "description": "Data required to create a new activity",
        "required": ["name", "defaultLang", "translations"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the activity"
          },
          "defaultLang": {
            "type": "string",
            "description": "The default language code for the activity content"
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActivityTranslation"
            },
            "description": "List of translations for the activity content"
          }
        }
      },
      "UpdateActivityRequest": {
        "type": "object",
        "description": "Data required to update an existing activity",
        "required": ["name", "defaultLang", "translations"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Updated name of the activity"
          },
          "defaultLang": {
            "type": "string",
            "description": "Updated default language code for the activity content"
          },
          "translations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ActivityTranslation"
            },
            "description": "Updated list of translations for the activity content"
          }
        }
      },
      "ActivityTranslation": {
        "type": "object",
        "description": "Translation for activity content in a specific language",
        "required": ["lang", "label"],
        "properties": {
          "lang": {
            "type": "string",
            "description": "Language code for this translation"
          },
          "label": {
            "type": "string",
            "description": "Translated label for the activity"
          },
          "description": {
            "type": "string",
            "description": "Translated description for the activity"
          }
        }
      },
      "VirtualTransactionInput": {
        "type": "object",
        "description": "Input for a single transaction initiated via the Dashboard API by an admin. If sourceUserId is provided, it's an ADMIN forced user-to-user transfer, otherwise it is a transaction from/to the system to/from the destinationUserId, depending on the amount sign",
        "required": [
          "virtualCurrencyId",
          "redemptionMode",
          "amount",
          "destinationUserId"
        ],
        "properties": {
          "virtualCurrencyId": {
            "type": "string",
            "description": "The ID of the virtual currency to be transacted."
          },
          "sourceUserId": {
            "type": "string",
            "description": "Optional. The ID of the user from whom the currency will be debited. If omitted, the source is considered the SYSTEM."
          },
          "destinationUserId": {
            "type": "string",
            "description": "Optional. The ID of the user to whom the currency will be credited. If omitted, the destination is considered the SYSTEM."
          },
          "redemptionMode": {
            "type": "string",
            "enum": ["AUTO", "MANUAL"],
            "description": "The redemption mode for the transaction."
          },
          "amount": {
            "type": "number",
            "description": "The amount of virtual currency. Must be a positive value. Direction is inferred from source/destination.",
            "minimum": 0.0000000001
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "Optional ISO date-time string. If provided and redemptionMode is MANUAL, the transaction will expire at this time if not completed."
          }
        } 
      },
      "CreateVirtualTransactionsRequest": {
        "type": "object",
        "description": "Request body for creating virtual transactions from the Dashboard API.",
        "required": ["transactions"],
        "properties": {
          "transactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualTransactionInput"
            },
            "description": "A list of transaction inputs. Minimum 1 item.",
            "minItems": 1
          }
        }
      },
      "CreateVirtualTransactionsResponse": {
        "type": "object",
        "description": "Response body after creating virtual transactions from the Dashboard API.",
        "required": ["transactions"],
        "properties": {
          "transactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/VirtualTransaction"
            },
            "description": "A list of all created virtual transaction ledger entries."
          }
        }
      },
      "VirtualTransaction": {
        "type": "object",
        "description": "Represents a virtual currency transaction.",
        "required": [
          "virtualTransactionId",
          "virtualCurrencyId",
          "amount",
          "direction",
          "state",
          "initiator",
          "initiatorType",
          "counterpart",
          "counterpartType",
          "redemptionMode",
          "virtualTransactionGroupId",
          "createdAt",
          "updatedAt"
        ],
        "properties": {
          "virtualTransactionId": {
            "type": "string",
            "description": "Unique identifier for the virtual transaction."
          },
          "userId": {
            "type": "string",
            "description": "The ID of the User to whom this transaction pertains."
          },
          "virtualCurrencyId": {
            "type": "string",
            "description": "Identifier of the virtual currency involved in the transaction."
          },
          "amount": {
            "type": "number",
            "description": "The amount of virtual currency transacted. Positive for credit, negative for debit (direction field also indicates actual movement)."
          },
          "direction": {
            "type": "string",
            "enum": ["CREDIT", "DEBIT"],
            "description": "Indicates whether the transaction is a credit or a debit for the user."
          },
          "state": {
            "type": "string",
            "enum": ["PENDING", "COMPLETED", "EXPIRED", "REJECTED"],
            "description": "The current state of the transaction. Expired transactions are evaluated lazily and their state is updated when trying to redeem them."
          },
          "initiator": {
            "type": "string",
            "description": "Identifier of the entity that initiated the transaction (e.g., userId, ruleId, system process name)."
          },
          "initiatorType": {
            "type": "string",
            "enum": ["USER", "REWARD_RULE", "SYSTEM", "ADMIN"],
            "description": "The type of entity that initiated the transaction."
          },
          "counterpart": {
            "type": "string",
            "description": "Identifier of the counterpart in the transaction (e.g., another userId, system entity)."
          },
          "counterpartType": {
            "type": "string",
            "enum": ["USER", "SYSTEM"],
            "description": "The type of counterpart entity."
          },
          "redemptionMode": {
            "type": "string",
            "enum": ["AUTO", "MANUAL"],
            "description": "Defines wether the transaction is automatically redeemed or not. If redemptionMode is MANUAL, the transaction will be pending until this transaction (if at credit) or the counterpart transaction (if at debit) is redeemed."
          },
          "virtualTransactionGroupId": {
            "type": "string",
            "description": "Identifier for a group of related transactions that was processed (created) together ad a database transaction."
          },
          "redemptionGroupId": {
            "type": "string",
            "description": "Identifier for a grouping related transactions (credit and debit counterparts) where redemptionMode was MANUAL. When the credit ledger transaction is redeemed, all transactions in the group are redeemed together."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the transaction record was created."
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the transaction record was last updated."
          },
          "redeemedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the transaction was redeemed (ex, state changed to COMPLETED)."
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "Optional Timestamp that reflects the expiration date of the transaction when redemptionMode is MANUAL and state is PENDING. If not provided, the transaction will never expire."
          }
        }
      }
    }
  }
}
